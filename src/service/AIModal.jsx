import {
  GoogleGenerativeAI,
  HarmCategory,
  HarmBlockThreshold,
} from "@google/generative-ai";

const apiKey = import.meta.env.VITE_GEMINI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-2.0-flash-exp",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 40,
  maxOutputTokens: 8192,
  responseMimeType: "application/json",
};

export const chatSession = model.startChat({
  generationConfig,
  history: [
    {
      role: "user",
      parts: [
        {
          text: "Generate Travel Plan for location : las vegas , for 3 days for couple with cheap budget, give me a hotel options list with hotel name , hotel address , price , hotel image url , geo coordinates, rating , description and suggest itinerary with placement , Place Details , Place image URL, geo coordinates,ticket pricing,time travel,time each of the locations for 3 days with each day plan with best timr to visit in JSON format\n",
        },
      ],
    },
    {
      role: "model",
      parts: [
        {
          text: '```json\n{\n  "trip_details": {\n    "location": "Las Vegas, Nevada",\n    "duration": "3 Days",\n    "travelers": "Couple",\n    "budget": "Cheap"\n  },\n  "hotel_options": [\n    {\n      "hotel_name": "Circus Circus Hotel & Casino",\n      "hotel_address": "2880 S Las Vegas Blvd, Las Vegas, NV 89109",\n      "price": "$40 - $100 per night (depending on dates and room type)",\n      "hotel_image_url": "https://media.expedia.com/hotels/1000000/10000/1200/1172/76083f60_b.jpg",\n      "geo_coordinates": {\n        "latitude": 36.145152,\n        "longitude": -115.166992\n      },\n      "rating": 3.5,\n      "description": "A budget-friendly option on the Las Vegas Strip with a circus theme, offering various entertainment options and affordable dining."\n    },\n   {\n      "hotel_name": "Excalibur Hotel & Casino",\n      "hotel_address": "3850 S Las Vegas Blvd, Las Vegas, NV 89109",\n      "price": "$50 - $120 per night (depending on dates and room type)",\n      "hotel_image_url": "https://media.expedia.com/hotels/1000000/10000/7700/7636/133f9c30_b.jpg",\n      "geo_coordinates": {\n        "latitude": 36.09837,\n        "longitude": -115.172406\n      },\n        "rating": 4,\n      "description": "A medieval-themed hotel at the southern end of the Las Vegas Strip, offering affordable rooms and various entertainment."\n    },\n    {\n      "hotel_name": "OYO Hotel & Casino Las Vegas",\n      "hotel_address": "115 E Tropicana Ave, Las Vegas, NV 89109",\n      "price": "$30 - $90 per night (depending on dates and room type)",\n        "hotel_image_url": "https://media.expedia.com/hotels/1000000/30000/21700/21676/2e312903_b.jpg",\n      "geo_coordinates": {\n        "latitude": 36.102843,\n        "longitude": -115.169129\n      },\n      "rating": 3,\n      "description": "An economical choice near the Strip, known for its basic amenities and affordability, often with good deals available."\n    }\n  ],\n  "itinerary": {\n    "day_1": {\n      "theme": "Exploring the Strip & Free Attractions",\n      "best_time_to_visit": "Morning and evening to avoid the heat",\n      "activities": [\n        {\n          "place_name": "Bellagio Conservatory & Botanical Gardens",\n          "place_details": "Beautifully themed floral displays that change seasonally.",\n           "place_image_url": "https://www.bellagio.com/content/dam/MGM/bellagio/entertainment/conservatory-botanical-garden/Bellagio-Conservatory-Summer-2023-Main-Feature.jpg",\n          "geo_coordinates": {\n            "latitude": 36.112474,\n            "longitude": -115.174016\n          },\n          "ticket_pricing": "Free",\n          "travel_time": "Located on the Strip, easily walkable from many hotels"\n        },\n          {\n          "place_name": "Fountains of Bellagio",\n          "place_details": "A mesmerizing water show synchronized to music and lights.",\n           "place_image_url": "https://www.bellagio.com/content/dam/MGM/bellagio/entertainment/fountains/Bellagio-Fountains-Sunset-01.jpg",\n          "geo_coordinates": {\n            "latitude": 36.112825,\n            "longitude": -115.173951\n          },\n           "ticket_pricing": "Free",\n           "travel_time": "Located right outside the Bellagio, walkable"\n          },\n          {\n          "place_name": "The LINQ Promenade",\n          "place_details": "An outdoor entertainment area with shops, restaurants, and the High Roller observation wheel.",\n           "place_image_url": "https://www.caesars.com/content/dam/clv/Images/Things-to-do/LINQ-Promenade-Hero/clv-things-linq-promenade-hero-desktop.jpg",\n          "geo_coordinates": {\n            "latitude": 36.116965,\n            "longitude": -115.169581\n          },\n           "ticket_pricing": "Free to walk around, costs for rides/attractions",\n           "travel_time": "Walkable from the central part of the Strip"\n          },\n         {\n          "place_name": "Mirage Volcano",\n          "place_details": "An artificial volcano that erupts with fire and water effects.",\n            "place_image_url":"https://res.cloudinary.com/djg9x8309/image/upload/v1675874560/las-vegas-travel-guide/mirage-volcano_g58k2y.jpg",\n          "geo_coordinates": {\n            "latitude": 36.121594,\n            "longitude": -115.174467\n          },\n          "ticket_pricing": "Free",\n          "travel_time": "Located in front of the Mirage hotel, walkable"\n        }\n      ]\n    },\n     "day_2": {\n      "theme": "Downtown Exploration & Fremont Street",\n        "best_time_to_visit": "Afternoon into evening for cooler temperatures and the light show",\n      "activities": [\n        {\n          "place_name": "Fremont Street Experience",\n          "place_details": "A pedestrian mall with a light and sound show on a massive LED screen canopy.",\n           "place_image_url":"https://fremontstreetexperience.com/wp-content/uploads/2023/09/FSE_LightShow_Hero_01.jpg",\n          "geo_coordinates": {\n            "latitude": 36.169885,\n             "longitude": -115.142699\n          },\n          "ticket_pricing": "Free",\n           "travel_time": "Take a bus or taxi/rideshare from the Strip, about a 15-20 minute drive"\n        },\n        {\n          "place_name": "Container Park",\n           "place_details": "A unique open-air shopping and entertainment area made from shipping containers.",\n          "place_image_url":"https://downtowncontainerpark.com/wp-content/uploads/2022/12/containerpark_carousel_v3.jpg",\n           "geo_coordinates": {\n              "latitude": 36.167725,\n              "longitude": -115.141152\n             },\n            "ticket_pricing": "Free to enter, costs for shopping and attractions",\n             "travel_time": "Walkable from Fremont Street Experience"\n            },\n        {\n          "place_name": "Mob Museum",\n          "place_details": "An interactive museum about the history of organized crime in the U.S.",\n          "place_image_url":"https://mobmuseum.org/wp-content/uploads/2023/02/Mob-Museum-exterior-600x420.jpg",\n          "geo_coordinates": {\n            "latitude": 36.169553,\n            "longitude": -115.140695\n           },\n          "ticket_pricing": "$30 - $35 per person",\n          "travel_time": "Walkable from Fremont Street"\n        }\n      ]\n    },\n     "day_3": {\n      "theme": "South Strip & Optional Day Trip",\n      "best_time_to_visit": "Morning for outdoor activities, afternoon for shows",\n      "activities": [\n        {\n          "place_name": "Welcome to Fabulous Las Vegas Sign",\n          "place_details": "Take a photo at the iconic Las Vegas sign.",\n          "place_image_url":"https://cdn.britannica.com/26/184126-050-D817453D/Welcome-to-Las-Vegas-sign-Nevada.jpg",\n          "geo_coordinates": {\n            "latitude": 36.082857,\n            "longitude": -115.172539\n          },\n          "ticket_pricing": "Free",\n           "travel_time": "Located at the south end of the Strip, accessible by bus or taxi/rideshare"\n        },\n          {\n          "place_name": "M&M\'s World",\n          "place_details": "A colorful, multi-story store dedicated to M&M candies.",\n             "place_image_url": "https://www.vegas.com/wp-content/uploads/2023/01/mms-world-store-las-vegas.jpg",\n          "geo_coordinates": {\n            "latitude": 36.104105,\n            "longitude": -115.172143\n          },\n          "ticket_pricing": "Free to enter, costs for purchases",\n          "travel_time": "Located on the Strip, walkable from many hotels"\n        },\n           {\n          "place_name": "Optional: Red Rock Canyon National Conservation Area (if budget allows for transportation)",\n          "place_details": "Scenic desert landscapes perfect for hiking and sightseeing.",\n           "place_image_url":"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d5/Red_Rock_Canyon_Overlook_Nevada_HDR.jpg/1280px-Red_Rock_Canyon_Overlook_Nevada_HDR.jpg",\n          "geo_coordinates": {\n            "latitude": 36.121522,\n            "longitude": -115.418002\n          },\n          "ticket_pricing": "$15 entrance fee per vehicle",\n          "travel_time": "About a 20-30 minute drive from the Strip, rental car or organized tour recommended"\n        }\n      ]\n    }\n  }\n}\n```',
        },
      ],
    },
  ],
});
